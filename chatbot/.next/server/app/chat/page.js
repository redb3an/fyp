/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/chat/page";
exports.ids = ["app/chat/page"];
exports.modules = {

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Fpage&page=%2Fchat%2Fpage&appPaths=%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fchat%2Fpage.tsx&appDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Fpage&page=%2Fchat%2Fpage&appPaths=%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fchat%2Fpage.tsx&appDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?5bc9\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'chat',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/page.tsx */ \"(rsc)/./src/app/chat/page.tsx\")), \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/chat/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/chat/page\",\n        pathname: \"/chat\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZjaGF0JTJGcGFnZSZwYWdlPSUyRmNoYXQlMkZwYWdlJmFwcFBhdGhzPSUyRmNoYXQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGY2hhdCUyRnBhZ2UudHN4JmFwcERpcj1DJTNBJTVDVXNlcnMlNUNVc2VyJTVDRG9jdW1lbnRzJTVDZGphbmdvdHV0b3JpYWwlNUNjaGF0Ym90JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNVc2VyJTVDRG9jdW1lbnRzJTVDZGphbmdvdHV0b3JpYWwlNUNjaGF0Ym90JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QiwwSkFBa0g7QUFDekk7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQThHO0FBQ3ZJLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9naWdpLWFpLWZyb250ZW5kLz8zYmRmIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2NoYXQnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxVc2VyXFxcXERvY3VtZW50c1xcXFxkamFuZ290dXRvcmlhbFxcXFxjaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcY2hhdFxcXFxwYWdlLnRzeFwiKSwgXCJDOlxcXFxVc2Vyc1xcXFxVc2VyXFxcXERvY3VtZW50c1xcXFxkamFuZ290dXRvcmlhbFxcXFxjaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcY2hhdFxcXFxwYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcVXNlclxcXFxEb2N1bWVudHNcXFxcZGphbmdvdHV0b3JpYWxcXFxcY2hhdGJvdFxcXFxzcmNcXFxcYXBwXFxcXGxheW91dC50c3hcIiksIFwiQzpcXFxcVXNlcnNcXFxcVXNlclxcXFxEb2N1bWVudHNcXFxcZGphbmdvdHV0b3JpYWxcXFxcY2hhdGJvdFxcXFxzcmNcXFxcYXBwXFxcXGxheW91dC50c3hcIl0sXG4nbm90LWZvdW5kJzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiKSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIkM6XFxcXFVzZXJzXFxcXFVzZXJcXFxcRG9jdW1lbnRzXFxcXGRqYW5nb3R1dG9yaWFsXFxcXGNoYXRib3RcXFxcc3JjXFxcXGFwcFxcXFxjaGF0XFxcXHBhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvY2hhdC9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL2NoYXQvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvY2hhdFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Fpage&page=%2Fchat%2Fpage&appPaths=%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fchat%2Fpage.tsx&appDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9QyUzQSU1Q1VzZXJzJTVDVXNlciU1Q0RvY3VtZW50cyU1Q2RqYW5nb3R1dG9yaWFsJTVDY2hhdGJvdCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q2FwcC1yb3V0ZXIuanMmbW9kdWxlcz1DJTNBJTVDVXNlcnMlNUNVc2VyJTVDRG9jdW1lbnRzJTVDZGphbmdvdHV0b3JpYWwlNUNjaGF0Ym90JTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDZXJyb3ItYm91bmRhcnkuanMmbW9kdWxlcz1DJTNBJTVDVXNlcnMlNUNVc2VyJTVDRG9jdW1lbnRzJTVDZGphbmdvdHV0b3JpYWwlNUNjaGF0Ym90JTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPUMlM0ElNUNVc2VycyU1Q1VzZXIlNUNEb2N1bWVudHMlNUNkamFuZ290dXRvcmlhbCU1Q2NoYXRib3QlNUNub2RlX21vZHVsZXMlNUNuZXh0JTVDZGlzdCU1Q2NsaWVudCU1Q2NvbXBvbmVudHMlNUNub3QtZm91bmQtYm91bmRhcnkuanMmbW9kdWxlcz1DJTNBJTVDVXNlcnMlNUNVc2VyJTVDRG9jdW1lbnRzJTVDZGphbmdvdHV0b3JpYWwlNUNjaGF0Ym90JTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyZtb2R1bGVzPUMlM0ElNUNVc2VycyU1Q1VzZXIlNUNEb2N1bWVudHMlNUNkamFuZ290dXRvcmlhbCU1Q2NoYXRib3QlNUNub2RlX21vZHVsZXMlNUNuZXh0JTVDZGlzdCU1Q2NsaWVudCU1Q2NvbXBvbmVudHMlNUNzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXFKO0FBQ3JKLDBPQUF5SjtBQUN6Six3T0FBd0o7QUFDeEosa1BBQTZKO0FBQzdKLHNRQUF1SztBQUN2SyIsInNvdXJjZXMiOlsid2VicGFjazovL2dpZ2ktYWktZnJvbnRlbmQvP2EyZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxVc2VyXFxcXERvY3VtZW50c1xcXFxkamFuZ290dXRvcmlhbFxcXFxjaGF0Ym90XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcYXBwLXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcVXNlclxcXFxEb2N1bWVudHNcXFxcZGphbmdvdHV0b3JpYWxcXFxcY2hhdGJvdFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGVycm9yLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxVc2VyXFxcXERvY3VtZW50c1xcXFxkamFuZ290dXRvcmlhbFxcXFxjaGF0Ym90XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbGF5b3V0LXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcVXNlclxcXFxEb2N1bWVudHNcXFxcZGphbmdvdHV0b3JpYWxcXFxcY2hhdGJvdFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXG5vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcVXNlclxcXFxEb2N1bWVudHNcXFxcZGphbmdvdHV0b3JpYWxcXFxcY2hhdGJvdFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXHJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXFVzZXJzXFxcXFVzZXJcXFxcRG9jdW1lbnRzXFxcXGRqYW5nb3R1dG9yaWFsXFxcXGNoYXRib3RcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qc1wiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cfont%5Cgoogle%5Ctarget.css%3F%7B%22path%22%3A%22src%5C%5Capp%5C%5Clayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp%5Cglobals.css&server=true!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Cnode_modules%5Cnext%5Cfont%5Cgoogle%5Ctarget.css%3F%7B%22path%22%3A%22src%5C%5Capp%5C%5Clayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp%5Cglobals.css&server=true! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp%5Cchat%5Cpage.tsx&server=true!":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp%5Cchat%5Cpage.tsx&server=true! ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/page.tsx */ \"(ssr)/./src/app/chat/page.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9QyUzQSU1Q1VzZXJzJTVDVXNlciU1Q0RvY3VtZW50cyU1Q2RqYW5nb3R1dG9yaWFsJTVDY2hhdGJvdCU1Q3NyYyU1Q2FwcCU1Q2NoYXQlNUNwYWdlLnRzeCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9naWdpLWFpLWZyb250ZW5kLz81OTRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcVXNlclxcXFxEb2N1bWVudHNcXFxcZGphbmdvdHV0b3JpYWxcXFxcY2hhdGJvdFxcXFxzcmNcXFxcYXBwXFxcXGNoYXRcXFxccGFnZS50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp%5Cchat%5Cpage.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/chat/page.tsx":
/*!*******************************!*\
  !*** ./src/app/chat/page.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-2.js\");\n/* harmony import */ var _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/multiUserAuth */ \"(ssr)/./src/lib/multiUserAuth.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction ChatPage() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [iframeLoaded, setIframeLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkAuth = async ()=>{\n            // Get current user's token from multi-user auth system\n            const tokens = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserTokens();\n            const currentUserData = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserData();\n            if (!tokens || !tokens.access) {\n                router.push(\"/\");\n                return;\n            }\n            try {\n                // Verify token with Django backend\n                const response = await fetch(\"http://localhost:8000/api/auth/verify/\", {\n                    method: \"GET\",\n                    headers: {\n                        \"Authorization\": `Bearer ${tokens.access}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n                if (response.ok) {\n                    const userData = await response.json();\n                    setUser(userData.user);\n                    // Apply user's theme preference to the Next.js page AND store for iframe\n                    const userTheme = userData.user.theme || \"light\";\n                    document.body.setAttribute(\"data-theme\", userTheme);\n                    // Store theme for iframe communication\n                    sessionStorage.setItem(\"user_theme\", userTheme);\n                } else {\n                    // Token is invalid, remove this user's session and redirect to login\n                    if (currentUserData) {\n                        _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.removeUserSession(currentUserData.id.toString());\n                    }\n                    router.push(\"/\");\n                    return;\n                }\n            } catch (error) {\n                console.error(\"Auth verification failed:\", error);\n                // If verification fails, still allow access but show warning\n                setUser({\n                    id: 0,\n                    email: \"Unknown\",\n                    full_name: \"User\",\n                    is_authenticated: true\n                });\n            }\n            setIsLoading(false);\n        };\n        checkAuth();\n    }, [\n        router\n    ]);\n    const handleLogout = async ()=>{\n        try {\n            const tokens = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserTokens();\n            const currentUserData = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserData();\n            if (tokens?.access) {\n                // Call Django logout API to invalidate JWT token\n                await fetch(\"http://localhost:8000/api/auth/logout/\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Authorization\": `Bearer ${tokens.access}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n            // Remove current user's session from multi-user auth system\n            if (currentUserData) {\n                _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.removeUserSession(currentUserData.id.toString());\n            }\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n        } finally{\n            sessionStorage.removeItem(\"user_theme\") // Clear theme data\n            ;\n            // Check if there are other active sessions\n            if (_lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getSessionCount() > 0) {\n                // Stay on chat page but reload to switch to another user\n                window.location.reload();\n            } else {\n                // No other sessions, redirect to homepage\n                router.push(\"/\");\n            }\n        }\n    };\n    const handleIframeLoad = ()=>{\n        setIframeLoaded(true);\n        console.log(\"Chatbot iframe loaded successfully\");\n        // Send iframe size information to Django template\n        const iframe = document.getElementById(\"chatbot-iframe\");\n        if (iframe && iframe.contentWindow) {\n            const sendSizeInfo = ()=>{\n                const message = {\n                    type: \"VIEWPORT_SIZE\",\n                    width: window.innerWidth,\n                    height: window.innerHeight,\n                    isMobile: window.innerWidth <= 640,\n                    isTablet: window.innerWidth > 640 && window.innerWidth <= 1024\n                };\n                iframe.contentWindow?.postMessage(message, \"http://localhost:8000\");\n            };\n            // Send initial size\n            setTimeout(sendSizeInfo, 100);\n            // Set up resize handler\n            const handleResize = ()=>{\n                sendSizeInfo();\n            };\n            window.addEventListener(\"resize\", handleResize);\n        }\n    };\n    // Set up iframe communication\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleIframeMessage = (event)=>{\n            if (event.origin !== \"http://localhost:8000\") {\n                return;\n            }\n            if (event.data?.type === \"IFRAME_READY\") {\n                // Send authentication data when iframe is ready\n                const iframe = document.getElementById(\"chatbot-iframe\");\n                const tokens = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserTokens();\n                const userTheme = sessionStorage.getItem(\"user_theme\") || \"light\";\n                if (iframe && iframe.contentWindow && tokens?.access) {\n                    iframe.contentWindow.postMessage({\n                        type: \"AUTH_TOKEN\",\n                        token: tokens.access,\n                        user: user,\n                        theme: userTheme // Explicitly send theme data\n                    }, \"http://localhost:8000\");\n                }\n            } else if (event.data?.type === \"LOGOUT_SUCCESS\") {\n                // Handle logout initiated from iframe\n                const currentUserData = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserData();\n                if (currentUserData) {\n                    _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.removeUserSession(currentUserData.id.toString());\n                }\n                sessionStorage.removeItem(\"user_theme\") // Clear theme data\n                ;\n                // Check if there are other active sessions\n                if (_lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getSessionCount() > 0) {\n                    // Stay on chat page but reload to switch to another user\n                    window.location.reload();\n                } else {\n                    // No other sessions, redirect to homepage\n                    router.push(\"/\");\n                }\n            } else if (event.data?.type === \"THEME_CHANGED\") {\n                // Handle theme changes from iframe\n                const newTheme = event.data.theme;\n                if (newTheme && (newTheme === \"light\" || newTheme === \"dark\")) {\n                    document.body.setAttribute(\"data-theme\", newTheme);\n                    sessionStorage.setItem(\"user_theme\", newTheme);\n                }\n            }\n        };\n        // Add event listener for iframe messages\n        window.addEventListener(\"message\", handleIframeMessage);\n        // Clean up event listener on component unmount\n        return ()=>{\n            window.removeEventListener(\"message\", handleIframeMessage);\n        };\n    }, [\n        user,\n        router\n    ]);\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        className: \"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"Authenticating...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 204,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                lineNumber: 202,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n            lineNumber: 201,\n            columnNumber: 13\n        }, this);\n    }\n    const tokens = _lib_multiUserAuth__WEBPACK_IMPORTED_MODULE_3__.multiUserAuth.getCurrentUserTokens();\n    const chatbotUrl = `http://localhost:8000/?token=${encodeURIComponent(tokens?.access || \"\")}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-white\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative\",\n            children: [\n                !iframeLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 bg-white flex items-center justify-center z-20\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/images/gigi-avatar.png\",\n                                alt: \"Gigi AI\",\n                                className: \"w-16 h-16 rounded-full mx-auto mb-4 border-2 border-blue-600/20\",\n                                onError: (e)=>{\n                                    e.currentTarget.src = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMzIiIGZpbGw9IiM2MzY2RjEiLz4KPGNpcmNsZSBjeD0iMzIiIGN5PSIyNiIgcj0iMTAiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNiA1MkMxNiA0NC4xIDIyLjUgNDAiIDMyIDQwUzQ4IDQ0LjEgNDggNTIiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=\";\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 221,\n                                columnNumber: 29\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 229,\n                                columnNumber: 29\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600 font-medium\",\n                                children: \"Loading Gigi AI...\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 230,\n                                columnNumber: 29\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Your Educational Counselor\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 231,\n                                columnNumber: 29\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 220,\n                        columnNumber: 25\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                    lineNumber: 219,\n                    columnNumber: 21\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                    id: \"chatbot-iframe\",\n                    src: chatbotUrl,\n                    className: \"w-full border-0 responsive-iframe\",\n                    style: {\n                        height: \"100vh\",\n                        minHeight: \"100vh\",\n                        maxWidth: \"100vw\"\n                    },\n                    onLoad: handleIframeLoad,\n                    allow: \"camera; microphone; fullscreen\",\n                    title: \"Gigi AI Chatbot\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                    lineNumber: 237,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n            lineNumber: 216,\n            columnNumber: 13\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\chat\\\\page.tsx\",\n        lineNumber: 214,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVTtzQkFDWCw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNYLDhEQUFDeEUsbUZBQU9BO3dCQUFDd0UsV0FBVTs7Ozs7O2tDQUNuQiw4REFBQ0M7d0JBQUVELFdBQVU7a0NBQWdCOzs7Ozs7Ozs7Ozs7Ozs7OztJQUk3QztJQUVBLE1BQU03RCxTQUFTViw2REFBYUEsQ0FBQ1csb0JBQW9CO0lBQ2pELE1BQU04RCxhQUFhLENBQUMsNkJBQTZCLEVBQUVDLG1CQUFtQmhFLFFBQVFJLFVBQVUsSUFBSSxDQUFDO0lBRTdGLHFCQUNJLDhEQUFDd0Q7UUFBSUMsV0FBVTtrQkFFWCw0RUFBQ0Q7WUFBSUMsV0FBVTs7Z0JBRVYsQ0FBQ2hFLDhCQUNFLDhEQUFDK0Q7b0JBQUlDLFdBQVU7OEJBQ1gsNEVBQUNEO3dCQUFJQyxXQUFVOzswQ0FDWCw4REFBQ0k7Z0NBQ0dDLEtBQUk7Z0NBQ0pDLEtBQUk7Z0NBQ0pOLFdBQVU7Z0NBQ1ZPLFNBQVMsQ0FBQ0M7b0NBQ05BLEVBQUVDLGFBQWEsQ0FBQ0osR0FBRyxHQUFHO2dDQUMxQjs7Ozs7OzBDQUVKLDhEQUFDN0UsbUZBQU9BO2dDQUFDd0UsV0FBVTs7Ozs7OzBDQUNuQiw4REFBQ0M7Z0NBQUVELFdBQVU7MENBQTRCOzs7Ozs7MENBQ3pDLDhEQUFDQztnQ0FBRUQsV0FBVTswQ0FBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQU1qRCw4REFBQ3pCO29CQUNHZixJQUFHO29CQUNINkMsS0FBS0g7b0JBQ0xGLFdBQVU7b0JBQ1ZVLE9BQU87d0JBQ0gzQixRQUFRO3dCQUNSNEIsV0FBVzt3QkFDWEMsVUFBVTtvQkFDZDtvQkFDQUMsUUFBUXhDO29CQUNSeUMsT0FBTTtvQkFDTkMsT0FBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5QjFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2lnaS1haS1mcm9udGVuZC8uL3NyYy9hcHAvY2hhdC9wYWdlLnRzeD8zZTNjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xuaW1wb3J0IHsgTG9nT3V0LCBVc2VyLCBMb2FkZXIyIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgbXVsdGlVc2VyQXV0aCwgVXNlckRhdGEgfSBmcm9tICcuLi8uLi9saWIvbXVsdGlVc2VyQXV0aCdcblxuaW50ZXJmYWNlIFVzZXIge1xuICAgIGlkOiBudW1iZXJcbiAgICBlbWFpbDogc3RyaW5nXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcbiAgICBpc19hdXRoZW50aWNhdGVkOiBib29sZWFuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gICAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gICAgY29uc3QgW2lmcmFtZUxvYWRlZCwgc2V0SWZyYW1lTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tBdXRoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgdXNlcidzIHRva2VuIGZyb20gbXVsdGktdXNlciBhdXRoIHN5c3RlbVxuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gbXVsdGlVc2VyQXV0aC5nZXRDdXJyZW50VXNlclRva2VucygpXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXNlckRhdGEgPSBtdWx0aVVzZXJBdXRoLmdldEN1cnJlbnRVc2VyRGF0YSgpXG5cbiAgICAgICAgICAgIGlmICghdG9rZW5zIHx8ICF0b2tlbnMuYWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy8nKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFZlcmlmeSB0b2tlbiB3aXRoIERqYW5nbyBiYWNrZW5kXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9hdXRoL3ZlcmlmeS8nLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2Vucy5hY2Nlc3N9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgICAgICAgIHNldFVzZXIodXNlckRhdGEudXNlcilcblxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSB1c2VyJ3MgdGhlbWUgcHJlZmVyZW5jZSB0byB0aGUgTmV4dC5qcyBwYWdlIEFORCBzdG9yZSBmb3IgaWZyYW1lXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJUaGVtZSA9IHVzZXJEYXRhLnVzZXIudGhlbWUgfHwgJ2xpZ2h0J1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIHVzZXJUaGVtZSlcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGVtZSBmb3IgaWZyYW1lIGNvbW11bmljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcl90aGVtZScsIHVzZXJUaGVtZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb2tlbiBpcyBpbnZhbGlkLCByZW1vdmUgdGhpcyB1c2VyJ3Mgc2Vzc2lvbiBhbmQgcmVkaXJlY3QgdG8gbG9naW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlVc2VyQXV0aC5yZW1vdmVVc2VyU2Vzc2lvbihjdXJyZW50VXNlckRhdGEuaWQudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aCB2ZXJpZmljYXRpb24gZmFpbGVkOicsIGVycm9yKVxuICAgICAgICAgICAgICAgIC8vIElmIHZlcmlmaWNhdGlvbiBmYWlscywgc3RpbGwgYWxsb3cgYWNjZXNzIGJ1dCBzaG93IHdhcm5pbmdcbiAgICAgICAgICAgICAgICBzZXRVc2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxfbmFtZTogJ1VzZXInLFxuICAgICAgICAgICAgICAgICAgICBpc19hdXRoZW50aWNhdGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG5cbiAgICAgICAgY2hlY2tBdXRoKClcbiAgICB9LCBbcm91dGVyXSlcblxuICAgIGNvbnN0IGhhbmRsZUxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IG11bHRpVXNlckF1dGguZ2V0Q3VycmVudFVzZXJUb2tlbnMoKVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFVzZXJEYXRhID0gbXVsdGlVc2VyQXV0aC5nZXRDdXJyZW50VXNlckRhdGEoKVxuXG4gICAgICAgICAgICBpZiAodG9rZW5zPy5hY2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIERqYW5nbyBsb2dvdXQgQVBJIHRvIGludmFsaWRhdGUgSldUIHRva2VuXG4gICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvYXV0aC9sb2dvdXQvJywge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW5zLmFjY2Vzc31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJyZW50IHVzZXIncyBzZXNzaW9uIGZyb20gbXVsdGktdXNlciBhdXRoIHN5c3RlbVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyRGF0YSkge1xuICAgICAgICAgICAgICAgIG11bHRpVXNlckF1dGgucmVtb3ZlVXNlclNlc3Npb24oY3VycmVudFVzZXJEYXRhLmlkLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyX3RoZW1lJykgIC8vIENsZWFyIHRoZW1lIGRhdGFcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIG90aGVyIGFjdGl2ZSBzZXNzaW9uc1xuICAgICAgICAgICAgaWYgKG11bHRpVXNlckF1dGguZ2V0U2Vzc2lvbkNvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RheSBvbiBjaGF0IHBhZ2UgYnV0IHJlbG9hZCB0byBzd2l0Y2ggdG8gYW5vdGhlciB1c2VyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vIG90aGVyIHNlc3Npb25zLCByZWRpcmVjdCB0byBob21lcGFnZVxuICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUlmcmFtZUxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHNldElmcmFtZUxvYWRlZCh0cnVlKVxuICAgICAgICBjb25zb2xlLmxvZygnQ2hhdGJvdCBpZnJhbWUgbG9hZGVkIHN1Y2Nlc3NmdWxseScpXG5cbiAgICAgICAgLy8gU2VuZCBpZnJhbWUgc2l6ZSBpbmZvcm1hdGlvbiB0byBEamFuZ28gdGVtcGxhdGVcbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRib3QtaWZyYW1lJykgYXMgSFRNTElGcmFtZUVsZW1lbnRcbiAgICAgICAgaWYgKGlmcmFtZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgY29uc3Qgc2VuZFNpemVJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdWSUVXUE9SVF9TSVpFJyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGU6IHdpbmRvdy5pbm5lcldpZHRoIDw9IDY0MCxcbiAgICAgICAgICAgICAgICAgICAgaXNUYWJsZXQ6IHdpbmRvdy5pbm5lcldpZHRoID4gNjQwICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3c/LnBvc3RNZXNzYWdlKG1lc3NhZ2UsICdodHRwOi8vbG9jYWxob3N0OjgwMDAnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZW5kIGluaXRpYWwgc2l6ZVxuICAgICAgICAgICAgc2V0VGltZW91dChzZW5kU2l6ZUluZm8sIDEwMClcblxuICAgICAgICAgICAgLy8gU2V0IHVwIHJlc2l6ZSBoYW5kbGVyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZFNpemVJbmZvKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBpZnJhbWUgY29tbXVuaWNhdGlvblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUlmcmFtZU1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGE/LnR5cGUgPT09ICdJRlJBTUVfUkVBRFknKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBhdXRoZW50aWNhdGlvbiBkYXRhIHdoZW4gaWZyYW1lIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRib3QtaWZyYW1lJykgYXMgSFRNTElGcmFtZUVsZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBtdWx0aVVzZXJBdXRoLmdldEN1cnJlbnRVc2VyVG9rZW5zKClcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyVGhlbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyX3RoZW1lJykgfHwgJ2xpZ2h0J1xuXG4gICAgICAgICAgICAgICAgaWYgKGlmcmFtZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdyAmJiB0b2tlbnM/LmFjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQVVUSF9UT0tFTicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5zLmFjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZTogdXNlclRoZW1lICAvLyBFeHBsaWNpdGx5IHNlbmQgdGhlbWUgZGF0YVxuICAgICAgICAgICAgICAgICAgICB9LCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGE/LnR5cGUgPT09ICdMT0dPVVRfU1VDQ0VTUycpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgbG9nb3V0IGluaXRpYXRlZCBmcm9tIGlmcmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyRGF0YSA9IG11bHRpVXNlckF1dGguZ2V0Q3VycmVudFVzZXJEYXRhKClcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFVzZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIG11bHRpVXNlckF1dGgucmVtb3ZlVXNlclNlc3Npb24oY3VycmVudFVzZXJEYXRhLmlkLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfdGhlbWUnKSAgLy8gQ2xlYXIgdGhlbWUgZGF0YVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIG90aGVyIGFjdGl2ZSBzZXNzaW9uc1xuICAgICAgICAgICAgICAgIGlmIChtdWx0aVVzZXJBdXRoLmdldFNlc3Npb25Db3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGF5IG9uIGNoYXQgcGFnZSBidXQgcmVsb2FkIHRvIHN3aXRjaCB0byBhbm90aGVyIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gb3RoZXIgc2Vzc2lvbnMsIHJlZGlyZWN0IHRvIGhvbWVwYWdlXG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGE/LnR5cGUgPT09ICdUSEVNRV9DSEFOR0VEJykge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0aGVtZSBjaGFuZ2VzIGZyb20gaWZyYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGhlbWUgPSBldmVudC5kYXRhLnRoZW1lXG4gICAgICAgICAgICAgICAgaWYgKG5ld1RoZW1lICYmIChuZXdUaGVtZSA9PT0gJ2xpZ2h0JyB8fCBuZXdUaGVtZSA9PT0gJ2RhcmsnKSkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIG5ld1RoZW1lKVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyX3RoZW1lJywgbmV3VGhlbWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIGZvciBpZnJhbWUgbWVzc2FnZXNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVJZnJhbWVNZXNzYWdlKVxuXG4gICAgICAgIC8vIENsZWFuIHVwIGV2ZW50IGxpc3RlbmVyIG9uIGNvbXBvbmVudCB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZUlmcmFtZU1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICB9LCBbdXNlciwgcm91dGVyXSlcblxuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctMTIgaC0xMiBhbmltYXRlLXNwaW4gdGV4dC1ibHVlLTYwMCBteC1hdXRvIG1iLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+QXV0aGVudGljYXRpbmcuLi48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IHRva2VucyA9IG11bHRpVXNlckF1dGguZ2V0Q3VycmVudFVzZXJUb2tlbnMoKVxuICAgIGNvbnN0IGNoYXRib3RVcmwgPSBgaHR0cDovL2xvY2FsaG9zdDo4MDAwLz90b2tlbj0ke2VuY29kZVVSSUNvbXBvbmVudCh0b2tlbnM/LmFjY2VzcyB8fCAnJyl9YFxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctd2hpdGVcIj5cbiAgICAgICAgICAgIHsvKiBNYWluIENvbnRlbnQgLSBFbWJlZGRlZCBDaGF0Ym90IChGdWxsIFNjcmVlbikgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgey8qIExvYWRpbmcgb3ZlcmxheSAqL31cbiAgICAgICAgICAgICAgICB7IWlmcmFtZUxvYWRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvaW1hZ2VzL2dpZ2ktYXZhdGFyLnBuZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkdpZ2kgQUlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIG14LWF1dG8gbWItNCBib3JkZXItMiBib3JkZXItYmx1ZS02MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnNyYyA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlOalFpSUdobGFXZG9kRDBpTmpRaUlIWnBaWGRDYjNnOUlqQWdNQ0EyTkNBMk5DSWdabWxzYkQwaWJtOXVaU0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JajRLUEdOcGNtTnNaU0JqZUQwaU16SWlJR041UFNJek1pSWdjajBpTXpJaUlHWnBiR3c5SWlNMk16WTJSakVpTHo0S1BHTnBjbU5zWlNCamVEMGlNeklpSUdONVBTSXlOaUlnY2owaU1UQWlJR1pwYkd3OUluZG9hWFJsSWk4K0NqeHdZWFJvSUdROUlrMHhOaUExTWtNeE5pQTBOQzR4SURJeUxqVWdOREFpSURNeUlEUXdVelE0SURRMExqRWdORGdnTlRJaUlHWnBiR3c5SW5kb2FYUmxJaTgrQ2p3dmMzWm5QZ289J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1ibHVlLTYwMCBteC1hdXRvIG1iLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZm9udC1tZWRpdW1cIj5Mb2FkaW5nIEdpZ2kgQUkuLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+WW91ciBFZHVjYXRpb25hbCBDb3Vuc2Vsb3I8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBFbWJlZGRlZCBEamFuZ28gQ2hhdGJvdCAtIEZ1bGwgU2NyZWVuIFJlc3BvbnNpdmUgKi99XG4gICAgICAgICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgICAgICAgICBpZD1cImNoYXRib3QtaWZyYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtjaGF0Ym90VXJsfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLTAgcmVzcG9uc2l2ZS1pZnJhbWVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICcxMDB2dydcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkPXtoYW5kbGVJZnJhbWVMb2FkfVxuICAgICAgICAgICAgICAgICAgICBhbGxvdz1cImNhbWVyYTsgbWljcm9waG9uZTsgZnVsbHNjcmVlblwiXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiR2lnaSBBSSBDaGF0Ym90XCJcbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgey8qIFVzZXIgaW5mbyBhbmQgbG9nb3V0IC0gYm90dG9tIGxlZnQgY29ybmVyICovfVxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS00IGxlZnQtNCB6LTMwIGJnLXdoaXRlLzkwIGJhY2tkcm9wLWJsdXItc20gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHB4LTMgcHktMiBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXI/LmZ1bGxfbmFtZSB8fCAnVXNlcid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTG9nb3V0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBweC0yIHB5LTEgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQteHMgaG92ZXI6YmctYmx1ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxvZ291dCBhbmQgcmV0dXJuIHRvIGhvbWVwYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkxvZ291dDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJMb2FkZXIyIiwibXVsdGlVc2VyQXV0aCIsIkNoYXRQYWdlIiwicm91dGVyIiwidXNlciIsInNldFVzZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpZnJhbWVMb2FkZWQiLCJzZXRJZnJhbWVMb2FkZWQiLCJjaGVja0F1dGgiLCJ0b2tlbnMiLCJnZXRDdXJyZW50VXNlclRva2VucyIsImN1cnJlbnRVc2VyRGF0YSIsImdldEN1cnJlbnRVc2VyRGF0YSIsImFjY2VzcyIsInB1c2giLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIm9rIiwidXNlckRhdGEiLCJqc29uIiwidXNlclRoZW1lIiwidGhlbWUiLCJkb2N1bWVudCIsImJvZHkiLCJzZXRBdHRyaWJ1dGUiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVVc2VyU2Vzc2lvbiIsImlkIiwidG9TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJlbWFpbCIsImZ1bGxfbmFtZSIsImlzX2F1dGhlbnRpY2F0ZWQiLCJoYW5kbGVMb2dvdXQiLCJyZW1vdmVJdGVtIiwiZ2V0U2Vzc2lvbkNvdW50Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJoYW5kbGVJZnJhbWVMb2FkIiwibG9nIiwiaWZyYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250ZW50V2luZG93Iiwic2VuZFNpemVJbmZvIiwibWVzc2FnZSIsInR5cGUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImlzTW9iaWxlIiwiaXNUYWJsZXQiLCJwb3N0TWVzc2FnZSIsInNldFRpbWVvdXQiLCJoYW5kbGVSZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlSWZyYW1lTWVzc2FnZSIsImV2ZW50Iiwib3JpZ2luIiwiZGF0YSIsImdldEl0ZW0iLCJ0b2tlbiIsIm5ld1RoZW1lIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJjaGF0Ym90VXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaW1nIiwic3JjIiwiYWx0Iiwib25FcnJvciIsImUiLCJjdXJyZW50VGFyZ2V0Iiwic3R5bGUiLCJtaW5IZWlnaHQiLCJtYXhXaWR0aCIsIm9uTG9hZCIsImFsbG93IiwidGl0bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/chat/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/multiUserAuth.ts":
/*!**********************************!*\
  !*** ./src/lib/multiUserAuth.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   multiUserAuth: () => (/* binding */ multiUserAuth)\n/* harmony export */ });\nclass MultiUserAuthManager {\n    /**\r\n     * Get all active sessions\r\n     */ getActiveSessions() {\n        try {\n            const stored = localStorage.getItem(this.STORAGE_KEY);\n            return stored ? JSON.parse(stored) : {};\n        } catch (error) {\n            console.error(\"Error reading active sessions:\", error);\n            return {};\n        }\n    }\n    /**\r\n     * Save all active sessions\r\n     */ saveActiveSessions(sessions) {\n        try {\n            localStorage.setItem(this.STORAGE_KEY, JSON.stringify(sessions));\n        } catch (error) {\n            console.error(\"Error saving active sessions:\", error);\n        }\n    }\n    /**\r\n     * Get current active user ID\r\n     */ getCurrentUserId() {\n        return localStorage.getItem(this.CURRENT_USER_KEY);\n    }\n    /**\r\n     * Set current active user\r\n     */ setCurrentUser(userId) {\n        localStorage.setItem(this.CURRENT_USER_KEY, userId);\n    }\n    /**\r\n     * Add a new user session\r\n     */ addUserSession(userData, tokens) {\n        const sessions = this.getActiveSessions();\n        const userId = userData.id.toString();\n        sessions[userId] = {\n            user: userData,\n            tokens,\n            loginTime: Date.now()\n        };\n        this.saveActiveSessions(sessions);\n        this.setCurrentUser(userId);\n        // Also update legacy storage for backward compatibility during transition\n        localStorage.setItem(\"access_token\", tokens.access);\n        localStorage.setItem(\"refresh_token\", tokens.refresh);\n    }\n    /**\r\n     * Get tokens for a specific user\r\n     */ getUserTokens(userId) {\n        const sessions = this.getActiveSessions();\n        return sessions[userId]?.tokens || null;\n    }\n    /**\r\n     * Get current user's tokens\r\n     */ getCurrentUserTokens() {\n        const currentUserId = this.getCurrentUserId();\n        return currentUserId ? this.getUserTokens(currentUserId) : null;\n    }\n    /**\r\n     * Get user data for a specific user\r\n     */ getUserData(userId) {\n        const sessions = this.getActiveSessions();\n        return sessions[userId]?.user || null;\n    }\n    /**\r\n     * Get current user's data\r\n     */ getCurrentUserData() {\n        const currentUserId = this.getCurrentUserId();\n        return currentUserId ? this.getUserData(currentUserId) : null;\n    }\n    /**\r\n     * Update tokens for a specific user\r\n     */ updateUserTokens(userId, tokens) {\n        const sessions = this.getActiveSessions();\n        if (sessions[userId]) {\n            sessions[userId].tokens = tokens;\n            this.saveActiveSessions(sessions);\n            // If this is the current user, also update legacy storage\n            if (this.getCurrentUserId() === userId) {\n                localStorage.setItem(\"access_token\", tokens.access);\n                localStorage.setItem(\"refresh_token\", tokens.refresh);\n            }\n        }\n    }\n    /**\r\n     * Update user data for a specific user\r\n     */ updateUserData(userId, userData) {\n        const sessions = this.getActiveSessions();\n        if (sessions[userId]) {\n            sessions[userId].user = {\n                ...sessions[userId].user,\n                ...userData\n            };\n            this.saveActiveSessions(sessions);\n        }\n    }\n    /**\r\n     * Remove a user session (logout specific user)\r\n     */ removeUserSession(userId) {\n        const sessions = this.getActiveSessions();\n        delete sessions[userId];\n        this.saveActiveSessions(sessions);\n        // If this was the current user, clear current user and legacy storage\n        if (this.getCurrentUserId() === userId) {\n            localStorage.removeItem(this.CURRENT_USER_KEY);\n            localStorage.removeItem(\"access_token\");\n            localStorage.removeItem(\"refresh_token\");\n            // If there are other active sessions, switch to the most recent one\n            const remainingUsers = Object.keys(sessions);\n            if (remainingUsers.length > 0) {\n                // Find the most recently logged in user\n                const mostRecent = remainingUsers.reduce((latest, currentUserId)=>{\n                    const currentTime = sessions[currentUserId].loginTime;\n                    const latestTime = sessions[latest].loginTime;\n                    return currentTime > latestTime ? currentUserId : latest;\n                });\n                this.setCurrentUser(mostRecent);\n                const tokens = sessions[mostRecent].tokens;\n                localStorage.setItem(\"access_token\", tokens.access);\n                localStorage.setItem(\"refresh_token\", tokens.refresh);\n            }\n        }\n    }\n    /**\r\n     * Switch to a different active user\r\n     */ switchToUser(userId) {\n        const sessions = this.getActiveSessions();\n        if (sessions[userId]) {\n            this.setCurrentUser(userId);\n            const tokens = sessions[userId].tokens;\n            localStorage.setItem(\"access_token\", tokens.access);\n            localStorage.setItem(\"refresh_token\", tokens.refresh);\n            return true;\n        }\n        return false;\n    }\n    /**\r\n     * Get all active users (for UI display)\r\n     */ getActiveUsers() {\n        const sessions = this.getActiveSessions();\n        return Object.values(sessions).map((session)=>session.user);\n    }\n    /**\r\n     * Check if a user is already logged in\r\n     */ isUserLoggedIn(userId) {\n        const sessions = this.getActiveSessions();\n        return !!sessions[userId];\n    }\n    /**\r\n     * Clear all sessions (complete logout)\r\n     */ clearAllSessions() {\n        localStorage.removeItem(this.STORAGE_KEY);\n        localStorage.removeItem(this.CURRENT_USER_KEY);\n        localStorage.removeItem(\"access_token\");\n        localStorage.removeItem(\"refresh_token\");\n        sessionStorage.removeItem(\"user_theme\");\n    }\n    /**\r\n     * Get session count\r\n     */ getSessionCount() {\n        return Object.keys(this.getActiveSessions()).length;\n    }\n    /**\r\n     * Clean up expired sessions (optional - can be called periodically)\r\n     */ cleanupExpiredSessions(maxAge = 24 * 60 * 60 * 1000) {\n        const sessions = this.getActiveSessions();\n        const now = Date.now();\n        let hasChanges = false;\n        Object.keys(sessions).forEach((userId)=>{\n            if (now - sessions[userId].loginTime > maxAge) {\n                delete sessions[userId];\n                hasChanges = true;\n            }\n        });\n        if (hasChanges) {\n            this.saveActiveSessions(sessions);\n        }\n    }\n    constructor(){\n        this.STORAGE_KEY = \"multi_user_sessions\";\n        this.CURRENT_USER_KEY = \"current_user_id\";\n    }\n}\n// Export a singleton instance\nconst multiUserAuth = new MultiUserAuthManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL211bHRpVXNlckF1dGgudHMiLCJtYXBwaW5ncyI6Ijs7OztBQXVCQSxNQUFNQTtJQUlGOztLQUVDLEdBQ0RDLG9CQUFvQztRQUNoQyxJQUFJO1lBQ0EsTUFBTUMsU0FBU0MsYUFBYUMsT0FBTyxDQUFDLElBQUksQ0FBQ0MsV0FBVztZQUNwRCxPQUFPSCxTQUFTSSxLQUFLQyxLQUFLLENBQUNMLFVBQVUsQ0FBQztRQUMxQyxFQUFFLE9BQU9NLE9BQU87WUFDWkMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsT0FBTyxDQUFDO1FBQ1o7SUFDSjtJQUVBOztLQUVDLEdBQ0QsbUJBQTJCRyxRQUF3QixFQUFRO1FBQ3ZELElBQUk7WUFDQVIsYUFBYVMsT0FBTyxDQUFDLElBQUksQ0FBQ1AsV0FBVyxFQUFFQyxLQUFLTyxTQUFTLENBQUNGO1FBQzFELEVBQUUsT0FBT0gsT0FBTztZQUNaQyxRQUFRRCxLQUFLLENBQUMsaUNBQWlDQTtRQUNuRDtJQUNKO0lBRUE7O0tBRUMsR0FDRE0sbUJBQWtDO1FBQzlCLE9BQU9YLGFBQWFDLE9BQU8sQ0FBQyxJQUFJLENBQUNXLGdCQUFnQjtJQUNyRDtJQUVBOztLQUVDLEdBQ0RDLGVBQWVDLE1BQWMsRUFBUTtRQUNqQ2QsYUFBYVMsT0FBTyxDQUFDLElBQUksQ0FBQ0csZ0JBQWdCLEVBQUVFO0lBQ2hEO0lBRUE7O0tBRUMsR0FDREMsZUFBZUMsUUFBa0IsRUFBRUMsTUFBa0IsRUFBUTtRQUN6RCxNQUFNVCxXQUFXLElBQUksQ0FBQ1YsaUJBQWlCO1FBQ3ZDLE1BQU1nQixTQUFTRSxTQUFTRSxFQUFFLENBQUNDLFFBQVE7UUFFbkNYLFFBQVEsQ0FBQ00sT0FBTyxHQUFHO1lBQ2ZNLE1BQU1KO1lBQ05DO1lBQ0FJLFdBQVdDLEtBQUtDLEdBQUc7UUFDdkI7UUFFQSxJQUFJLENBQUNoQixrQkFBa0IsQ0FBQ0M7UUFDeEIsSUFBSSxDQUFDSyxjQUFjLENBQUNDO1FBRXBCLDBFQUEwRTtRQUMxRWQsYUFBYVMsT0FBTyxDQUFDLGdCQUFnQlEsT0FBT08sTUFBTTtRQUNsRHhCLGFBQWFTLE9BQU8sQ0FBQyxpQkFBaUJRLE9BQU9RLE9BQU87SUFDeEQ7SUFFQTs7S0FFQyxHQUNEQyxjQUFjWixNQUFjLEVBQXFCO1FBQzdDLE1BQU1OLFdBQVcsSUFBSSxDQUFDVixpQkFBaUI7UUFDdkMsT0FBT1UsUUFBUSxDQUFDTSxPQUFPLEVBQUVHLFVBQVU7SUFDdkM7SUFFQTs7S0FFQyxHQUNEVSx1QkFBMEM7UUFDdEMsTUFBTUMsZ0JBQWdCLElBQUksQ0FBQ2pCLGdCQUFnQjtRQUMzQyxPQUFPaUIsZ0JBQWdCLElBQUksQ0FBQ0YsYUFBYSxDQUFDRSxpQkFBaUI7SUFDL0Q7SUFFQTs7S0FFQyxHQUNEQyxZQUFZZixNQUFjLEVBQW1CO1FBQ3pDLE1BQU1OLFdBQVcsSUFBSSxDQUFDVixpQkFBaUI7UUFDdkMsT0FBT1UsUUFBUSxDQUFDTSxPQUFPLEVBQUVNLFFBQVE7SUFDckM7SUFFQTs7S0FFQyxHQUNEVSxxQkFBc0M7UUFDbEMsTUFBTUYsZ0JBQWdCLElBQUksQ0FBQ2pCLGdCQUFnQjtRQUMzQyxPQUFPaUIsZ0JBQWdCLElBQUksQ0FBQ0MsV0FBVyxDQUFDRCxpQkFBaUI7SUFDN0Q7SUFFQTs7S0FFQyxHQUNERyxpQkFBaUJqQixNQUFjLEVBQUVHLE1BQWtCLEVBQVE7UUFDdkQsTUFBTVQsV0FBVyxJQUFJLENBQUNWLGlCQUFpQjtRQUN2QyxJQUFJVSxRQUFRLENBQUNNLE9BQU8sRUFBRTtZQUNsQk4sUUFBUSxDQUFDTSxPQUFPLENBQUNHLE1BQU0sR0FBR0E7WUFDMUIsSUFBSSxDQUFDVixrQkFBa0IsQ0FBQ0M7WUFFeEIsMERBQTBEO1lBQzFELElBQUksSUFBSSxDQUFDRyxnQkFBZ0IsT0FBT0csUUFBUTtnQkFDcENkLGFBQWFTLE9BQU8sQ0FBQyxnQkFBZ0JRLE9BQU9PLE1BQU07Z0JBQ2xEeEIsYUFBYVMsT0FBTyxDQUFDLGlCQUFpQlEsT0FBT1EsT0FBTztZQUN4RDtRQUNKO0lBQ0o7SUFFQTs7S0FFQyxHQUNETyxlQUFlbEIsTUFBYyxFQUFFRSxRQUEyQixFQUFRO1FBQzlELE1BQU1SLFdBQVcsSUFBSSxDQUFDVixpQkFBaUI7UUFDdkMsSUFBSVUsUUFBUSxDQUFDTSxPQUFPLEVBQUU7WUFDbEJOLFFBQVEsQ0FBQ00sT0FBTyxDQUFDTSxJQUFJLEdBQUc7Z0JBQUUsR0FBR1osUUFBUSxDQUFDTSxPQUFPLENBQUNNLElBQUk7Z0JBQUUsR0FBR0osUUFBUTtZQUFDO1lBQ2hFLElBQUksQ0FBQ1Qsa0JBQWtCLENBQUNDO1FBQzVCO0lBQ0o7SUFFQTs7S0FFQyxHQUNEeUIsa0JBQWtCbkIsTUFBYyxFQUFRO1FBQ3BDLE1BQU1OLFdBQVcsSUFBSSxDQUFDVixpQkFBaUI7UUFDdkMsT0FBT1UsUUFBUSxDQUFDTSxPQUFPO1FBQ3ZCLElBQUksQ0FBQ1Asa0JBQWtCLENBQUNDO1FBRXhCLHNFQUFzRTtRQUN0RSxJQUFJLElBQUksQ0FBQ0csZ0JBQWdCLE9BQU9HLFFBQVE7WUFDcENkLGFBQWFrQyxVQUFVLENBQUMsSUFBSSxDQUFDdEIsZ0JBQWdCO1lBQzdDWixhQUFha0MsVUFBVSxDQUFDO1lBQ3hCbEMsYUFBYWtDLFVBQVUsQ0FBQztZQUV4QixvRUFBb0U7WUFDcEUsTUFBTUMsaUJBQWlCQyxPQUFPQyxJQUFJLENBQUM3QjtZQUNuQyxJQUFJMkIsZUFBZUcsTUFBTSxHQUFHLEdBQUc7Z0JBQzNCLHdDQUF3QztnQkFDeEMsTUFBTUMsYUFBYUosZUFBZUssTUFBTSxDQUFDLENBQUNDLFFBQVFiO29CQUM5QyxNQUFNYyxjQUFjbEMsUUFBUSxDQUFDb0IsY0FBYyxDQUFDUCxTQUFTO29CQUNyRCxNQUFNc0IsYUFBYW5DLFFBQVEsQ0FBQ2lDLE9BQU8sQ0FBQ3BCLFNBQVM7b0JBQzdDLE9BQU9xQixjQUFjQyxhQUFhZixnQkFBZ0JhO2dCQUN0RDtnQkFDQSxJQUFJLENBQUM1QixjQUFjLENBQUMwQjtnQkFDcEIsTUFBTXRCLFNBQVNULFFBQVEsQ0FBQytCLFdBQVcsQ0FBQ3RCLE1BQU07Z0JBQzFDakIsYUFBYVMsT0FBTyxDQUFDLGdCQUFnQlEsT0FBT08sTUFBTTtnQkFDbER4QixhQUFhUyxPQUFPLENBQUMsaUJBQWlCUSxPQUFPUSxPQUFPO1lBQ3hEO1FBQ0o7SUFDSjtJQUVBOztLQUVDLEdBQ0RtQixhQUFhOUIsTUFBYyxFQUFXO1FBQ2xDLE1BQU1OLFdBQVcsSUFBSSxDQUFDVixpQkFBaUI7UUFDdkMsSUFBSVUsUUFBUSxDQUFDTSxPQUFPLEVBQUU7WUFDbEIsSUFBSSxDQUFDRCxjQUFjLENBQUNDO1lBQ3BCLE1BQU1HLFNBQVNULFFBQVEsQ0FBQ00sT0FBTyxDQUFDRyxNQUFNO1lBQ3RDakIsYUFBYVMsT0FBTyxDQUFDLGdCQUFnQlEsT0FBT08sTUFBTTtZQUNsRHhCLGFBQWFTLE9BQU8sQ0FBQyxpQkFBaUJRLE9BQU9RLE9BQU87WUFDcEQsT0FBTztRQUNYO1FBQ0EsT0FBTztJQUNYO0lBRUE7O0tBRUMsR0FDRG9CLGlCQUE2QjtRQUN6QixNQUFNckMsV0FBVyxJQUFJLENBQUNWLGlCQUFpQjtRQUN2QyxPQUFPc0MsT0FBT1UsTUFBTSxDQUFDdEMsVUFBVXVDLEdBQUcsQ0FBQ0MsQ0FBQUEsVUFBV0EsUUFBUTVCLElBQUk7SUFDOUQ7SUFFQTs7S0FFQyxHQUNENkIsZUFBZW5DLE1BQWMsRUFBVztRQUNwQyxNQUFNTixXQUFXLElBQUksQ0FBQ1YsaUJBQWlCO1FBQ3ZDLE9BQU8sQ0FBQyxDQUFDVSxRQUFRLENBQUNNLE9BQU87SUFDN0I7SUFFQTs7S0FFQyxHQUNEb0MsbUJBQXlCO1FBQ3JCbEQsYUFBYWtDLFVBQVUsQ0FBQyxJQUFJLENBQUNoQyxXQUFXO1FBQ3hDRixhQUFha0MsVUFBVSxDQUFDLElBQUksQ0FBQ3RCLGdCQUFnQjtRQUM3Q1osYUFBYWtDLFVBQVUsQ0FBQztRQUN4QmxDLGFBQWFrQyxVQUFVLENBQUM7UUFDeEJpQixlQUFlakIsVUFBVSxDQUFDO0lBQzlCO0lBRUE7O0tBRUMsR0FDRGtCLGtCQUEwQjtRQUN0QixPQUFPaEIsT0FBT0MsSUFBSSxDQUFDLElBQUksQ0FBQ3ZDLGlCQUFpQixJQUFJd0MsTUFBTTtJQUN2RDtJQUVBOztLQUVDLEdBQ0RlLHVCQUF1QkMsU0FBaUIsS0FBSyxLQUFLLEtBQUssSUFBSSxFQUFRO1FBQy9ELE1BQU05QyxXQUFXLElBQUksQ0FBQ1YsaUJBQWlCO1FBQ3ZDLE1BQU15QixNQUFNRCxLQUFLQyxHQUFHO1FBQ3BCLElBQUlnQyxhQUFhO1FBRWpCbkIsT0FBT0MsSUFBSSxDQUFDN0IsVUFBVWdELE9BQU8sQ0FBQzFDLENBQUFBO1lBQzFCLElBQUlTLE1BQU1mLFFBQVEsQ0FBQ00sT0FBTyxDQUFDTyxTQUFTLEdBQUdpQyxRQUFRO2dCQUMzQyxPQUFPOUMsUUFBUSxDQUFDTSxPQUFPO2dCQUN2QnlDLGFBQWE7WUFDakI7UUFDSjtRQUVBLElBQUlBLFlBQVk7WUFDWixJQUFJLENBQUNoRCxrQkFBa0IsQ0FBQ0M7UUFDNUI7SUFDSjs7YUE1TmlCTixjQUFjO2FBQ2RVLG1CQUFtQjs7QUE0TnhDO0FBRUEsOEJBQThCO0FBQ3ZCLE1BQU02QyxnQkFBZ0IsSUFBSTVELHVCQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2dpZ2ktYWktZnJvbnRlbmQvLi9zcmMvbGliL211bHRpVXNlckF1dGgudHM/OGY3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgQXV0aFRva2VucyB7XHJcbiAgICBhY2Nlc3M6IHN0cmluZ1xyXG4gICAgcmVmcmVzaDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBVc2VyRGF0YSB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBlbWFpbDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgaXNfc3VwZXJ1c2VyOiBib29sZWFuXHJcbiAgICB0aGVtZT86IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVXNlclNlc3Npb24ge1xyXG4gICAgdXNlcjogVXNlckRhdGFcclxuICAgIHRva2VuczogQXV0aFRva2Vuc1xyXG4gICAgbG9naW5UaW1lOiBudW1iZXJcclxufVxyXG5cclxuaW50ZXJmYWNlIEFjdGl2ZVNlc3Npb25zIHtcclxuICAgIFt1c2VySWQ6IHN0cmluZ106IFVzZXJTZXNzaW9uXHJcbn1cclxuXHJcbmNsYXNzIE11bHRpVXNlckF1dGhNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgU1RPUkFHRV9LRVkgPSAnbXVsdGlfdXNlcl9zZXNzaW9ucydcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQ1VSUkVOVF9VU0VSX0tFWSA9ICdjdXJyZW50X3VzZXJfaWQnXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIGFjdGl2ZSBzZXNzaW9uc1xyXG4gICAgICovXHJcbiAgICBnZXRBY3RpdmVTZXNzaW9ucygpOiBBY3RpdmVTZXNzaW9ucyB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWSlcclxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IHt9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBhY3RpdmUgc2Vzc2lvbnM6JywgZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiB7fVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgYWxsIGFjdGl2ZSBzZXNzaW9uc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNhdmVBY3RpdmVTZXNzaW9ucyhzZXNzaW9uczogQWN0aXZlU2Vzc2lvbnMpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShzZXNzaW9ucykpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGFjdGl2ZSBzZXNzaW9uczonLCBlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBhY3RpdmUgdXNlciBJRFxyXG4gICAgICovXHJcbiAgICBnZXRDdXJyZW50VXNlcklkKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLkNVUlJFTlRfVVNFUl9LRVkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY3VycmVudCBhY3RpdmUgdXNlclxyXG4gICAgICovXHJcbiAgICBzZXRDdXJyZW50VXNlcih1c2VySWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuQ1VSUkVOVF9VU0VSX0tFWSwgdXNlcklkKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgbmV3IHVzZXIgc2Vzc2lvblxyXG4gICAgICovXHJcbiAgICBhZGRVc2VyU2Vzc2lvbih1c2VyRGF0YTogVXNlckRhdGEsIHRva2VuczogQXV0aFRva2Vucyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gdGhpcy5nZXRBY3RpdmVTZXNzaW9ucygpXHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gdXNlckRhdGEuaWQudG9TdHJpbmcoKVxyXG5cclxuICAgICAgICBzZXNzaW9uc1t1c2VySWRdID0ge1xyXG4gICAgICAgICAgICB1c2VyOiB1c2VyRGF0YSxcclxuICAgICAgICAgICAgdG9rZW5zLFxyXG4gICAgICAgICAgICBsb2dpblRpbWU6IERhdGUubm93KClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2F2ZUFjdGl2ZVNlc3Npb25zKHNlc3Npb25zKVxyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFVzZXIodXNlcklkKVxyXG5cclxuICAgICAgICAvLyBBbHNvIHVwZGF0ZSBsZWdhY3kgc3RvcmFnZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBkdXJpbmcgdHJhbnNpdGlvblxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NfdG9rZW4nLCB0b2tlbnMuYWNjZXNzKVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgdG9rZW5zLnJlZnJlc2gpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdG9rZW5zIGZvciBhIHNwZWNpZmljIHVzZXJcclxuICAgICAqL1xyXG4gICAgZ2V0VXNlclRva2Vucyh1c2VySWQ6IHN0cmluZyk6IEF1dGhUb2tlbnMgfCBudWxsIHtcclxuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IHRoaXMuZ2V0QWN0aXZlU2Vzc2lvbnMoKVxyXG4gICAgICAgIHJldHVybiBzZXNzaW9uc1t1c2VySWRdPy50b2tlbnMgfHwgbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgdXNlcidzIHRva2Vuc1xyXG4gICAgICovXHJcbiAgICBnZXRDdXJyZW50VXNlclRva2VucygpOiBBdXRoVG9rZW5zIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IHRoaXMuZ2V0Q3VycmVudFVzZXJJZCgpXHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VySWQgPyB0aGlzLmdldFVzZXJUb2tlbnMoY3VycmVudFVzZXJJZCkgOiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdXNlciBkYXRhIGZvciBhIHNwZWNpZmljIHVzZXJcclxuICAgICAqL1xyXG4gICAgZ2V0VXNlckRhdGEodXNlcklkOiBzdHJpbmcpOiBVc2VyRGF0YSB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gdGhpcy5nZXRBY3RpdmVTZXNzaW9ucygpXHJcbiAgICAgICAgcmV0dXJuIHNlc3Npb25zW3VzZXJJZF0/LnVzZXIgfHwgbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgdXNlcidzIGRhdGFcclxuICAgICAqL1xyXG4gICAgZ2V0Q3VycmVudFVzZXJEYXRhKCk6IFVzZXJEYXRhIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IHRoaXMuZ2V0Q3VycmVudFVzZXJJZCgpXHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VySWQgPyB0aGlzLmdldFVzZXJEYXRhKGN1cnJlbnRVc2VySWQpIDogbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHRva2VucyBmb3IgYSBzcGVjaWZpYyB1c2VyXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVVzZXJUb2tlbnModXNlcklkOiBzdHJpbmcsIHRva2VuczogQXV0aFRva2Vucyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gdGhpcy5nZXRBY3RpdmVTZXNzaW9ucygpXHJcbiAgICAgICAgaWYgKHNlc3Npb25zW3VzZXJJZF0pIHtcclxuICAgICAgICAgICAgc2Vzc2lvbnNbdXNlcklkXS50b2tlbnMgPSB0b2tlbnNcclxuICAgICAgICAgICAgdGhpcy5zYXZlQWN0aXZlU2Vzc2lvbnMoc2Vzc2lvbnMpXHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBjdXJyZW50IHVzZXIsIGFsc28gdXBkYXRlIGxlZ2FjeSBzdG9yYWdlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEN1cnJlbnRVc2VySWQoKSA9PT0gdXNlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgdG9rZW5zLmFjY2VzcylcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgdG9rZW5zLnJlZnJlc2gpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdXNlciBkYXRhIGZvciBhIHNwZWNpZmljIHVzZXJcclxuICAgICAqL1xyXG4gICAgdXBkYXRlVXNlckRhdGEodXNlcklkOiBzdHJpbmcsIHVzZXJEYXRhOiBQYXJ0aWFsPFVzZXJEYXRhPik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gdGhpcy5nZXRBY3RpdmVTZXNzaW9ucygpXHJcbiAgICAgICAgaWYgKHNlc3Npb25zW3VzZXJJZF0pIHtcclxuICAgICAgICAgICAgc2Vzc2lvbnNbdXNlcklkXS51c2VyID0geyAuLi5zZXNzaW9uc1t1c2VySWRdLnVzZXIsIC4uLnVzZXJEYXRhIH1cclxuICAgICAgICAgICAgdGhpcy5zYXZlQWN0aXZlU2Vzc2lvbnMoc2Vzc2lvbnMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgdXNlciBzZXNzaW9uIChsb2dvdXQgc3BlY2lmaWMgdXNlcilcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlVXNlclNlc3Npb24odXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IHRoaXMuZ2V0QWN0aXZlU2Vzc2lvbnMoKVxyXG4gICAgICAgIGRlbGV0ZSBzZXNzaW9uc1t1c2VySWRdXHJcbiAgICAgICAgdGhpcy5zYXZlQWN0aXZlU2Vzc2lvbnMoc2Vzc2lvbnMpXHJcblxyXG4gICAgICAgIC8vIElmIHRoaXMgd2FzIHRoZSBjdXJyZW50IHVzZXIsIGNsZWFyIGN1cnJlbnQgdXNlciBhbmQgbGVnYWN5IHN0b3JhZ2VcclxuICAgICAgICBpZiAodGhpcy5nZXRDdXJyZW50VXNlcklkKCkgPT09IHVzZXJJZCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLkNVUlJFTlRfVVNFUl9LRVkpXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NfdG9rZW4nKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpXHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgb3RoZXIgYWN0aXZlIHNlc3Npb25zLCBzd2l0Y2ggdG8gdGhlIG1vc3QgcmVjZW50IG9uZVxyXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdVc2VycyA9IE9iamVjdC5rZXlzKHNlc3Npb25zKVxyXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nVXNlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbW9zdCByZWNlbnRseSBsb2dnZWQgaW4gdXNlclxyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9zdFJlY2VudCA9IHJlbWFpbmluZ1VzZXJzLnJlZHVjZSgobGF0ZXN0LCBjdXJyZW50VXNlcklkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBzZXNzaW9uc1tjdXJyZW50VXNlcklkXS5sb2dpblRpbWVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3RUaW1lID0gc2Vzc2lvbnNbbGF0ZXN0XS5sb2dpblRpbWVcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFRpbWUgPiBsYXRlc3RUaW1lID8gY3VycmVudFVzZXJJZCA6IGxhdGVzdFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudFVzZXIobW9zdFJlY2VudClcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IHNlc3Npb25zW21vc3RSZWNlbnRdLnRva2Vuc1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIHRva2Vucy5hY2Nlc3MpXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaF90b2tlbicsIHRva2Vucy5yZWZyZXNoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3dpdGNoIHRvIGEgZGlmZmVyZW50IGFjdGl2ZSB1c2VyXHJcbiAgICAgKi9cclxuICAgIHN3aXRjaFRvVXNlcih1c2VySWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gdGhpcy5nZXRBY3RpdmVTZXNzaW9ucygpXHJcbiAgICAgICAgaWYgKHNlc3Npb25zW3VzZXJJZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50VXNlcih1c2VySWQpXHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IHNlc3Npb25zW3VzZXJJZF0udG9rZW5zXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NfdG9rZW4nLCB0b2tlbnMuYWNjZXNzKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaF90b2tlbicsIHRva2Vucy5yZWZyZXNoKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgYWN0aXZlIHVzZXJzIChmb3IgVUkgZGlzcGxheSlcclxuICAgICAqL1xyXG4gICAgZ2V0QWN0aXZlVXNlcnMoKTogVXNlckRhdGFbXSB7XHJcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSB0aGlzLmdldEFjdGl2ZVNlc3Npb25zKClcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzZXNzaW9ucykubWFwKHNlc3Npb24gPT4gc2Vzc2lvbi51c2VyKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluXHJcbiAgICAgKi9cclxuICAgIGlzVXNlckxvZ2dlZEluKHVzZXJJZDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSB0aGlzLmdldEFjdGl2ZVNlc3Npb25zKClcclxuICAgICAgICByZXR1cm4gISFzZXNzaW9uc1t1c2VySWRdXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciBhbGwgc2Vzc2lvbnMgKGNvbXBsZXRlIGxvZ291dClcclxuICAgICAqL1xyXG4gICAgY2xlYXJBbGxTZXNzaW9ucygpOiB2b2lkIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLlNUT1JBR0VfS0VZKVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuQ1VSUkVOVF9VU0VSX0tFWSlcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNjZXNzX3Rva2VuJylcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl90aGVtZScpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc2Vzc2lvbiBjb3VudFxyXG4gICAgICovXHJcbiAgICBnZXRTZXNzaW9uQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXRBY3RpdmVTZXNzaW9ucygpKS5sZW5ndGhcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFuIHVwIGV4cGlyZWQgc2Vzc2lvbnMgKG9wdGlvbmFsIC0gY2FuIGJlIGNhbGxlZCBwZXJpb2RpY2FsbHkpXHJcbiAgICAgKi9cclxuICAgIGNsZWFudXBFeHBpcmVkU2Vzc2lvbnMobWF4QWdlOiBudW1iZXIgPSAyNCAqIDYwICogNjAgKiAxMDAwKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSB0aGlzLmdldEFjdGl2ZVNlc3Npb25zKClcclxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgICAgICAgbGV0IGhhc0NoYW5nZXMgPSBmYWxzZVxyXG5cclxuICAgICAgICBPYmplY3Qua2V5cyhzZXNzaW9ucykuZm9yRWFjaCh1c2VySWQgPT4ge1xyXG4gICAgICAgICAgICBpZiAobm93IC0gc2Vzc2lvbnNbdXNlcklkXS5sb2dpblRpbWUgPiBtYXhBZ2UpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZXNzaW9uc1t1c2VySWRdXHJcbiAgICAgICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKGhhc0NoYW5nZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlQWN0aXZlU2Vzc2lvbnMoc2Vzc2lvbnMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgYSBzaW5nbGV0b24gaW5zdGFuY2VcclxuZXhwb3J0IGNvbnN0IG11bHRpVXNlckF1dGggPSBuZXcgTXVsdGlVc2VyQXV0aE1hbmFnZXIoKVxyXG5leHBvcnQgdHlwZSB7IEF1dGhUb2tlbnMsIFVzZXJEYXRhLCBVc2VyU2Vzc2lvbiB9ICJdLCJuYW1lcyI6WyJNdWx0aVVzZXJBdXRoTWFuYWdlciIsImdldEFjdGl2ZVNlc3Npb25zIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIlNUT1JBR0VfS0VZIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2F2ZUFjdGl2ZVNlc3Npb25zIiwic2Vzc2lvbnMiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZ2V0Q3VycmVudFVzZXJJZCIsIkNVUlJFTlRfVVNFUl9LRVkiLCJzZXRDdXJyZW50VXNlciIsInVzZXJJZCIsImFkZFVzZXJTZXNzaW9uIiwidXNlckRhdGEiLCJ0b2tlbnMiLCJpZCIsInRvU3RyaW5nIiwidXNlciIsImxvZ2luVGltZSIsIkRhdGUiLCJub3ciLCJhY2Nlc3MiLCJyZWZyZXNoIiwiZ2V0VXNlclRva2VucyIsImdldEN1cnJlbnRVc2VyVG9rZW5zIiwiY3VycmVudFVzZXJJZCIsImdldFVzZXJEYXRhIiwiZ2V0Q3VycmVudFVzZXJEYXRhIiwidXBkYXRlVXNlclRva2VucyIsInVwZGF0ZVVzZXJEYXRhIiwicmVtb3ZlVXNlclNlc3Npb24iLCJyZW1vdmVJdGVtIiwicmVtYWluaW5nVXNlcnMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibW9zdFJlY2VudCIsInJlZHVjZSIsImxhdGVzdCIsImN1cnJlbnRUaW1lIiwibGF0ZXN0VGltZSIsInN3aXRjaFRvVXNlciIsImdldEFjdGl2ZVVzZXJzIiwidmFsdWVzIiwibWFwIiwic2Vzc2lvbiIsImlzVXNlckxvZ2dlZEluIiwiY2xlYXJBbGxTZXNzaW9ucyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0U2Vzc2lvbkNvdW50IiwiY2xlYW51cEV4cGlyZWRTZXNzaW9ucyIsIm1heEFnZSIsImhhc0NoYW5nZXMiLCJmb3JFYWNoIiwibXVsdGlVc2VyQXV0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/multiUserAuth.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"85c46d97ca14\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2lnaS1haS1mcm9udGVuZC8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/MGMwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjg1YzQ2ZDk3Y2ExNFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/chat/page.tsx":
/*!*******************************!*\
  !*** ./src/app/chat/page.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\Users\User\Documents\djangotutorial\chatbot\src\app\chat\page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src\\\\app\\\\layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src\\\\\\\\app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\n\n\nconst metadata = {\n    title: \"Gigi AI - Your Intelligent Assistant\",\n    description: \"Experience the future of AI conversations with Gigi AI\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: (next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default().className),\n            children: children\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\layout.tsx\",\n            lineNumber: 20,\n            columnNumber: 13\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\djangotutorial\\\\chatbot\\\\src\\\\app\\\\layout.tsx\",\n        lineNumber: 19,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUtNQTtBQUhtQjtBQUNIO0FBSWYsTUFBTUUsV0FBcUI7SUFDOUJDLE9BQU87SUFDUEMsYUFBYTtBQUNqQixFQUFDO0FBRWMsU0FBU0MsV0FBVyxFQUMvQkMsUUFBUSxFQUdYO0lBQ0cscUJBQ0ksOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1AsNEVBQUNDO1lBQUtDLFdBQVdWLCtKQUFlO3NCQUFHTTs7Ozs7Ozs7Ozs7QUFHL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9naWdpLWFpLWZyb250ZW5kLy4vc3JjL2FwcC9sYXlvdXQudHN4PzU3YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSB9IGZyb20gJ25leHQnXG5pbXBvcnQgeyBJbnRlciB9IGZyb20gJ25leHQvZm9udC9nb29nbGUnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgJy4vZ2xvYmFscy5jc3MnXG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbJ2xhdGluJ10gfSlcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcbiAgICB0aXRsZTogJ0dpZ2kgQUkgLSBZb3VyIEludGVsbGlnZW50IEFzc2lzdGFudCcsXG4gICAgZGVzY3JpcHRpb246ICdFeHBlcmllbmNlIHRoZSBmdXR1cmUgb2YgQUkgY29udmVyc2F0aW9ucyB3aXRoIEdpZ2kgQUknLFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHtcbiAgICBjaGlsZHJlbixcbn06IHtcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG59KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICAgICAgICA8Ym9keSBjbGFzc05hbWU9e2ludGVyLmNsYXNzTmFtZX0+e2NoaWxkcmVufTwvYm9keT5cbiAgICAgICAgPC9odG1sPlxuICAgIClcbn0gIl0sIm5hbWVzIjpbImludGVyIiwiUmVhY3QiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsImJvZHkiLCJjbGFzc05hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/lucide-react","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Fpage&page=%2Fchat%2Fpage&appPaths=%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fchat%2Fpage.tsx&appDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUser%5CDocuments%5Cdjangotutorial%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();